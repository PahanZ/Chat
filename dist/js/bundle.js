!function(e){function t(r){if(s[r])return s[r].exports;var a=s[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var s={};t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.users=void 0;t.users={1:{id:1,userName:"user"},2:{id:2,userName:"server"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendMessage=void 0;t.appendMessage=function(e){var t=document.createElement("div");t.textContent=e,output.appendChild(t)}},function(e,t,s){"use strict";s(3);var r=s(4),a=(s(0),s(5)),o=s(1),n=s(6),u=s(7),c=(document.getElementById("output"),document.getElementById("message")),i=document.getElementById("form");(0,u.getLocalStorage)(),(0,u.appendFromLocalStorage)(),i.addEventListener("submit",function(e){e.preventDefault();var t=(0,a.createObj)("1",c.value);(0,n.addUserIfNotExists)(t.id,"user2"),(0,u.setMessageToLocalStorage)(t),(0,r.getDate)(t.date),(0,o.appendMessage)(t.message),c.value="",setTimeout(function(){var e=(0,a.createObj)("2","эмуляция ответа");(0,u.setMessageToLocalStorage)(e),(0,r.getDate)(e.date),(0,o.appendMessage)(e.message)},1e3)})},function(e,t){},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=void 0;t.getDate=function(e){var t=e.getHours(),s=e.getMinutes(),r=e.getSeconds();return t<10&&(t="0".concat(t)),s<10&&(s="0".concat(s)),r<10&&(r="0".concat(r)),"".concat(t,":").concat(s,":").concat(r)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObj=void 0;t.createObj=function(e,t){return{id:e,message:t,date:new Date}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addUserIfNotExists=void 0;var r=s(0);t.addUserIfNotExists=function(e,t){if(!Object.prototype.hasOwnProperty.call(r.users,e)){var s=Object.keys(r.users),a=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}(s))+1;r.users[a]={id:a,userName:t}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendFromLocalStorage=t.setMessageToLocalStorage=t.addObjectToUserMessages=t.getLocalStorage=t.usersMessages=void 0;var r,a=s(1);t.usersMessages=r;t.getLocalStorage=function(){localStorage.getItem("usersMessages")?t.usersMessages=r=JSON.parse(localStorage.getItem("usersMessages")):t.usersMessages=r=[]};var o=function(e){r.push(e)};t.addObjectToUserMessages=o;t.setMessageToLocalStorage=function(e){o(e);var t=JSON.stringify(r);localStorage.setItem("usersMessages",t)};t.appendFromLocalStorage=function(){null!=r&&Array.prototype.forEach.call(r,function(e){(0,a.appendMessage)(e.message)})}}]);